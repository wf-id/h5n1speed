<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Understanding the role of speed on containing outbreaks on dairy farms. • h5n1speed</title>
<script src="deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet">
<link href="deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet">
<script src="deps/headroom-0.11.0/headroom.min.js"></script><script src="deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="deps/search-1.0.0/fuse.min.js"></script><script src="deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="pkgdown.js"></script><meta property="og:title" content="Understanding the role of speed on containing outbreaks on dairy farms.">
<meta name="description" content="What the package does (one paragraph).">
<meta property="og:description" content="What the package does (one paragraph).">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="index.html">h5n1speed</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.2</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="reference/index.html">Reference</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="search.json">
</form></li>
      </ul>
</div>


  </div>
</nav><div class="container template-home">
<div class="row">
  <main id="main" class="col-md-9"><div class="section level1">
<div class="page-header"><h1 id="time-is-of-the-essence-effectiveness-of-dairy-farm-control-strategies-for-h5n1-are-limited-by-fast-spread">Time is of the essence: effectiveness of dairy farm control strategies for H5N1 are limited by fast spread<a class="anchor" aria-label="anchor" href="#time-is-of-the-essence-effectiveness-of-dairy-farm-control-strategies-for-h5n1-are-limited-by-fast-spread"></a>
</h1></div>
<!-- badges: start -->
<!-- badges: end -->
<p>This repository hosts the code, data and supporting analysis for “Time is of the essence: effectiveness of dairy farm control strategies for H5N1 are limited by fast spread.” The analysis was structured in the form of an R package to facilitate reproducibility.</p>
<div class="section level2">
<h2 id="installation">Installation<a class="anchor" aria-label="anchor" href="#installation"></a>
</h2>
<p>You can install the development version of rRsurveillance from <a href="https://github.com/" class="external-link">GitHub</a> with:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># install.packages("remotes")</span></span>
<span><span class="fu">remotes</span><span class="fu">::</span><span class="fu">install_github</span><span class="op">(</span><span class="st">"wf-id/h5n1speed"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="running-the-analysis">Running the analysis<a class="anchor" aria-label="anchor" href="#running-the-analysis"></a>
</h2>
<p>The primary analysis scripts are available as:</p>
<ul>
<li>
<strong>manuscript/intervention-effectiveness.R</strong> contains the code to generate the figures shown in Figure 2 panels A-C which shows the effectiveness of each surveillance strategy and detection threshold at prevent infections.</li>
<li>
<strong>manuscript/time-to-effective-strategy.R</strong> contains the code to generate the time required to realize an effective strategy. These values are used to generate Figure 2 panels D-E.</li>
<li>
<strong>manuscript/delay_strategy.qmd</strong> contains the code to generate Figure 1, panel A and assembles the figures to make Figure 2.</li>
</ul>
<p>Please note that the R scripts were run across 38 threads on a single node of the Wake Forest University HPC which took ~5-6hrs. Running these scripts on a single machine may take a significantly long time.</p>
</div>
<div class="section level2">
<h2 id="underlying-functions">Underlying functions<a class="anchor" aria-label="anchor" href="#underlying-functions"></a>
</h2>
<p>We have parameterized our analysis into an R package to faciliate ease of use and allow us to explore scenarios of speed on surveillance and intervention strategies.</p>
<ul>
<li>
<code>run_det_ode</code> contains the code used to run a deterministic compartmental model as described in our manuscript. This code use the deSolve package to solve the differential equations. Additionally, this code adds in the milk production.</li>
<li>
<code>detect_infections_ode</code> processes the outputs from the <code>run_det_ode</code> and find when some particular detection threshold has been met (e.g., number of cows infected cumulatively, number of symptomatic cows with clinical signs, some proportion drop in milk production). This function returns a list object with the timepoint at which the detection threshold is met.</li>
<li>
<code>run_intervention_ode</code> allows a given intervention to be applied given some detection and surveillance approach (e.g., the number symptomatic detected) at that time with some delay with varying intensity.</li>
</ul>
</div>
<div class="section level2">
<h2 id="ode-system">ODE System<a class="anchor" aria-label="anchor" href="#ode-system"></a>
</h2>
<p>As a reminder, the ODE is shown below:</p>
<p><math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mtable><mtr><mtd columnalign="right" style="text-align: right"><mfrac><mrow><mi>d</mi><mi>S</mi></mrow><mrow><mi>d</mi><mi>t</mi></mrow></mfrac></mtd><mtd columnalign="left" style="text-align: left"><mo>=</mo><mo>−</mo><mi>β</mi><mi>S</mi><mi>I</mi><mi>/</mi><mi>N</mi></mtd></mtr><mtr><mtd columnalign="right" style="text-align: right"><mfrac><mrow><mi>d</mi><mi>I</mi></mrow><mrow><mi>d</mi><mi>t</mi></mrow></mfrac></mtd><mtd columnalign="left" style="text-align: left"><mo>=</mo><mi>β</mi><mi>S</mi><mi>I</mi><mi>/</mi><mi>N</mi><mo>−</mo><mi>γ</mi><mi>I</mi></mtd></mtr><mtr><mtd columnalign="right" style="text-align: right"><mfrac><mrow><mi>d</mi><mi>B</mi></mrow><mrow><mi>d</mi><mi>t</mi></mrow></mfrac></mtd><mtd columnalign="left" style="text-align: left"><mo>=</mo><mi>γ</mi><mi>I</mi><mo>−</mo><mi>κ</mi><mi>B</mi></mtd></mtr><mtr><mtd columnalign="right" style="text-align: right"><mfrac><mrow><mi>d</mi><mi>R</mi></mrow><mrow><mi>d</mi><mi>t</mi></mrow></mfrac></mtd><mtd columnalign="left" style="text-align: left"><mo>=</mo><mi>κ</mi><mi>B</mi></mtd></mtr><mtr><mtd columnalign="right" style="text-align: right"></mtd></mtr></mtable><annotation encoding="application/x-tex">
\begin{align}
  \frac{dS}{dt} &amp;= - \beta S I/N \\
  \frac{dI}{dt} &amp;= \beta S I/N - \gamma I \\
  \frac{dB}{dt} &amp;= \gamma I - \kappa B \\
  \frac{dR}{dt} &amp;= \kappa B \\
\end{align}
</annotation></semantics></math></p>
<p>Milk production is calculated as follows:</p>
<p><math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mtext mathvariant="normal">Milk</mtext><mo>=</mo><mn>100</mn><mo>*</mo><mrow><mo stretchy="true" form="prefix">(</mo><mi>S</mi><mo>+</mo><mi>I</mi><mo stretchy="true" form="postfix">)</mo></mrow><mo>+</mo><mn>75</mn><mo>*</mo><mi>B</mi><mo>+</mo><mn>80</mn><mo>*</mo><mi>R</mi></mrow><annotation encoding="application/x-tex">
\text{Milk} = 100 * (S + I) + 75 * B + 80 * R
</annotation></semantics></math></p>
</div>
</div>
  </main><aside class="col-md-3"><div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li><a href="LICENSE.html">Full license</a></li>
<li><small><a href="https://opensource.org/licenses/mit-license.php" class="external-link">MIT</a> + file <a href="LICENSE-text.html">LICENSE</a></small></li>
</ul>
</div>


<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing h5n1speed</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>Michael DeWitt <br><small class="roles"> Author, maintainer </small> <a href="https://orcid.org/0000-0001-8940-1967" target="orcid.widget" aria-label="ORCID" class="external-link"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a> </li>
</ul>
</div>



  </aside>
</div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Michael DeWitt.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.0.</p>
</div>

    </footer>
</div>





  </body>
</html>
